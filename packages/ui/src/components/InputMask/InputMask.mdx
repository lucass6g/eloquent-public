import { Meta, Canvas } from "@storybook/blocks";
import InputMaskStories, { InputWithLabel, InputWithHelper, InputWithButton } from "./InputMask.stories";

<Meta of={InputMaskStories}/>

# Input Mask

## Props

`mask: string`

String de m√°scara. Os caracteres de formato padr√£o s√£o:<br/>

`9`: aceita n√∫meros de 0 a 9<br/>
`a`: aceita letras de A a Z (mai√∫sculas e min√∫sculas)<br/>
`*`: aceita letras de A a Z (mai√∫sculas e min√∫sculas) e n√∫meros de 0 a 9<br/>

Qualquer caractere pode ser escapado com uma barra invertida `\`. 
Ele aparecer√° como uma barra dupla `\\` em strings JavaScript. Por exemplo, um telefone Brasileiro com prefixo +55 ficaria assim: `mask="+55\ (99)\ 9999-9999"`.

<Canvas />

<hr/>

`maskChar: string`

Caractere utilizado para cobrir as partes n√£o preenchidas da m√°scara. O caractere padr√£o √© "_". Se definido como null ou uma string vazia, as partes n√£o preenchidas ficar√£o vazias, como em um campo de entrada comum.

`formatChars: object`

Define caracteres de formata√ß√£o com caracteres como chaves e strings de express√µes regulares (RegExp) correspondentes como valores. Os padr√µes s√£o:

```
{
  '9': '[0-9]',
  'a': '[A-Za-z]',
  '*': '[A-Za-z0-9]'
}
```

`alwaysShowMask: boolean`

Exibe a m√°scara quando o campo de entrada est√° vazio e n√£o possui foco.

`inputRef: function`

Use inputRef em vez de ref se voc√™ precisar que o n√≥ de entrada gerencie foco, sele√ß√£o, etc.

## Experimental üî•

Os adere√ßos a seguir s√£o considerados experimentais porque s√£o mais propensos a problemas e provavelmente ser√£o alterados no futuro. Use com cuidado.

`beforeMaskedValueChange : function`

Caso precise implementar um comportamento de mascaramento mais complexo, voc√™ pode fornecer a fun√ß√£o `beforeMaskedValueChange` para alterar o valor mascarado e a posi√ß√£o do cursor antes de ser aplicado √† entrada. `beforeMaskedValueChange` recebe os seguintes argumentos:

* `newState (object)`: Novo estado do campo de entrada. Cont√©m os campos value e selection. selection √© null quando o campo de entrada perde o foco ou quando a fun√ß√£o √© chamada antes da montagem do campo de entrada. Exemplo:

* `oldState (object)`: Estado do campo de entrada antes da mudan√ßa. Cont√©m os campos value e selection. selection √© null quando o campo de entrada ganha foco ou quando a fun√ß√£o √© chamada antes da montagem do campo de entrada.

* `userInput (string)`: String bruta inserida ou colada. null se o usu√°rio n√£o inseriu nada (por exemplo, acionado por exclus√£o ou renderiza√ß√£o devido a mudan√ßa de propriedades).

* `maskOptions (object)`: Op√ß√µes de m√°scara. Exemplo:

```
{
  mask: '99/99/9999',
  maskChar: '_',
  alwaysShowMask: false,
  formatChars: {
    '9': '[0-9]',
    'a': '[A-Za-z]',
    '*': '[A-Za-z0-9]'
  },
  permanents: [2, 5] // permanentes √© uma matriz de √≠ndices dos caracteres n√£o edit√°veis ‚Äã‚Äãna m√°scara
}
```

`beforeMaskedValueChange` deve retornar um objeto com os seguintes campos:

* value (string): Novo valor.
* selection (object): Nova sele√ß√£o. Se selection no argumento newState for null, deve ser null tamb√©m.
Observe que beforeMaskedValueChange √© executado com mais frequ√™ncia do que onChange e deve ser pura.

## Exemplos

### InputDefault
<Canvas/>

### InputWithLabel
<Canvas of={InputWithLabel}/>

### InputWithHelper
<Canvas of={InputWithHelper}/>

### InputWithButton
<Canvas of={InputWithButton}/>